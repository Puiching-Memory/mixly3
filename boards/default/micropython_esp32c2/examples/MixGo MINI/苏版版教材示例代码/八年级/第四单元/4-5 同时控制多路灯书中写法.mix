<xml version="Mixly 3.0 rc0" board="Python ESP32-C2@MixGo MINI" shown="block"><variables><variable id="R{(lk.WZeA[iX]:cfS8b">tim</variable><variable id="Q@r2`z.v}ryxJ/O[gN8e">client</variable><variable id="YGpsK(R|3YjSQ:gk_GR#">topic</variable><variable id="rw,n}0gJP.}@$Ms6H*Cc">msg</variable></variables><block type="iot_wifi_connect" id="A6DHbfIw::+:sCS2:,gG" x="-1599" y="-569"><value name="WIFINAME"><shadow type="text" id="$#=CQ;GA6^#oiw42BjYG"><field name="TEXT">fuhua</field></shadow></value><value name="PASSWORD"><shadow type="text" id="Ux[c/M.k3-qVK5n{$L^c"><field name="TEXT">12345678</field></shadow></value><next><block type="iot_mixio_connect" id="Wggp.u4u;Js_/zb72KlN"><value name="SERVER"><shadow type="text" id="/4P)Bs_Nl1MVtY7Z/)9+"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id="(L|h=]c|_oEbF9p$PNSX"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="uVh(#H=dlHN`_92Pl$jA"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="-)RttFR~nbXb!LF}:_/1"><field name="TEXT">demo</field></shadow></value><next><block type="variables_set" id="N]0TQ=#y[4EVjDnGzE`R"><field name="VAR">路灯编号</field><value name="VALUE"><block type="text" id="m=H]3P}D|,DEk,o7bf+{"><field name="TEXT">B板</field></block></value><next><block type="system_timer_init" id="9ua?3ZZUyJP-c..0p260"><value name="SUB"><shadow type="variables_get" id="D5q5DYTA9{Dmr+,0E{m!"><field name="VAR">tim</field></shadow></value><next><block type="system_timer" id="e(uW(ftk*;A!.B649|H~"><field name="mode">PERIODIC</field><value name="VAR"><shadow type="variables_get" id="$S+OYYohD^`PVzy_Hgq}"><field name="VAR">tim</field></shadow></value><value name="period"><shadow type="math_number" id=":Malu.5*RM=8WPMkD$9o"><field name="NUM">5000</field></shadow></value><value name="callback"><shadow type="factory_block_return" id="7X;{R8gplZ;${rlngYpn"><field name="VALUE">tim_callback</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="zAdO.O+1:khq{ROWEoR{"><value name="TOPIC"><shadow type="text" id="6Yv9PGmgx0fYaX_?1RV4"><field name="TEXT">A板光照信息</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="r29b@uIxXNV^R/Sk?A$e"><field name="VALUE">method</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="vMSEHJ?QpdPny0;)f:Md"><value name="TOPIC"><shadow type="text" id="4tT.{y$Ugd)r!rxG}9N+"><field name="TEXT">B板光照信息</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="hN0S})y,]Lm9MKW`gqQ@"><field name="VALUE">method</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="H#b#P/?[(btS/uiou([w"><value name="TOPIC"><shadow type="text" id="gq`5:|/yGCdlDFJ)3J[t"><field name="TEXT">开关灯</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="mBOkse:B~@J;IauVSBi2"><field name="VALUE">method</field></shadow></value><next><block type="controls_whileUntil" id="IQUhC^FmGqVnQ{V$plY@"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="Em^@j9D-MHRQW+k,e(.5"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="iot_mixio_check" id="eAEm2Aw8m9rBZiD?(fG5"><next><block type="variables_set" id="2w8,4$RWCO:;)M_5{}~s"><field name="VAR">光照值</field><value name="VALUE"><block type="variables_change" id="rO/DTAF@:+)46`Qasrjq"><field name="OP">int</field><value name="MYVALUE"><block type="sensor_LTR308" id="Df*DOv;Qa[c:yCg:WraX"></block></value></block></value><next><block type="display_show_image_or_string_delay" id="vw$2uH(j2X1mGD=oicJs"><field name="center">True</field><value name="data"><shadow type="text" id="RIqA3O4vCj-uJ$L.Lc-F"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="Cm1r+hXq*CEQ2gZdXbG]"><field name="VAR">光照值</field></block></value><value name="space"><shadow type="math_number" id="(-!fv0]gt2Nko.Z`n:6r"><field name="NUM">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="~6/:.Tj[/v5(xTKsH!}k" x="-937" y="-496"><mutation><arg name="client" varid="Q@r2`z.v}ryxJ/O[gN8e"></arg><arg name="topic" varid="YGpsK(R|3YjSQ:gk_GR#"></arg><arg name="msg" varid="rw,n}0gJP.}@$Ms6H*Cc"></arg></mutation><field name="NAME">method</field><statement name="STACK"><block type="controls_if" id="qy^sHD-c(~b[h8AX1Lj/"><mutation elseif="2"></mutation><value name="IF0"><block type="logic_compare" id="49pCV;t7Y,Lzv1D*n**Q"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="Vt),j|{PvC#uSfB?JR^c"><field name="VAR">topic</field></block></value><value name="B"><block type="text" id="QOQS}=Ck!V8+dndtyKB["><field name="TEXT">开关灯</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="8`3=UZuo:-p|Tkyt7!*Y"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="iUtzs#VGsbU;+CiEsQy["><field name="OP">EQ</field><value name="A"><block type="variables_get" id="QdW{@t5_?)fa`fo?M*S="><field name="VAR">msg</field></block></value><value name="B"><block type="text" id="(O[3,1Kc:G-lig?m]JL!"><field name="TEXT">on</field></block></value></block></value><statement name="DO0"><block type="actuator_led_bright" id="]mXCO{,wwv(=`Q}4PXlk"><value name="led"><shadow type="number" id="Yp8-#O)(MB[NSiBKS!_8"><field name="op">1</field></shadow></value><value name="bright"><shadow type="ledswitch" id="a6onjjt+T31i5USS?4E!"><field name="flag">1</field></shadow></value><next><block type="actuator_led_bright" id="NqLj~{DO;XZT;VBCDOx{"><value name="led"><shadow type="number" id="8743-D/!}#uOVw~wSy]D"><field name="op">2</field></shadow></value><value name="bright"><shadow type="ledswitch" id=".6eWrr)KE`_uI5weP0G["><field name="flag">1</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="actuator_led_bright" id="rUIh:V]o6!;BCOMyf7=5"><value name="led"><shadow type="number" id="D+COt0tkL}#^)uEoj$O7"><field name="op">1</field></shadow></value><value name="bright"><shadow type="ledswitch" id="H~wB*NuW9q4unwez9)oO"><field name="flag">0</field></shadow></value><next><block type="actuator_led_bright" id="wgr-}iyLN2-CYi)]r8ri"><value name="led"><shadow type="number" id="[pz:l{o-YVSxy2QtQOVH"><field name="op">2</field></shadow></value><value name="bright"><shadow type="ledswitch" id="x;GOZ]6S8AvVp78#pvv@"><field name="flag">0</field></shadow></value></block></next></block></statement></block></statement><value name="IF1"><block type="logic_compare" id="OLA.$+`8O#HIjFf#u75;"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="MdaBawulCd8FnwnGl?4{"><field name="VAR">topic</field></block></value><value name="B"><block type="text" id="pxr5sU7k!*@=+sq4x~8|"><field name="TEXT">A板光照信息</field></block></value></block></value><statement name="DO1"><block type="system_print" id="PBFn7Pb!VVQo7|#0rN7j"><value name="VAR"><shadow type="text" id=";DzAzF7F~=i#}0R!I8;g"><field name="TEXT">Mixly</field></shadow><block type="text_join" id="X:(ADD`M=4;[0rk:H+SI"><value name="A"><shadow type="text" id="]Jfrd}W@m_YUrcRLT$9I"><field name="TEXT">A板光照信息：</field></shadow></value><value name="B"><shadow type="text" id="KRl_;I7ltmQFx~HmBU_f"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="lMv#Z^3Ln`S0Xh_LQfVJ"><field name="VAR">msg</field></block></value></block></value></block></statement><value name="IF2"><block type="logic_compare" id="]kw7ZLu~UN,]Wqs3Lq{M"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="pe8m+uQ;T[qM#pBCsoG+"><field name="VAR">topic</field></block></value><value name="B"><block type="text" id="w1]-.`BDnUURh8Izu~Dl"><field name="TEXT">B板光照信息</field></block></value></block></value><statement name="DO2"><block type="system_print" id=".z8(r5gG@OFC@I1P`t-_"><value name="VAR"><shadow type="text" id=";DzAzF7F~=i#}0R!I8;g"><field name="TEXT">Mixly</field></shadow><block type="text_join" id="fTVzl9auMX9gj8T#!K/B"><value name="A"><shadow type="text" id="~(a9.ai7y9Ci+^k.n(B`"><field name="TEXT">B板光照信息：</field></shadow></value><value name="B"><shadow type="text" id="KRl_;I7ltmQFx~HmBU_f"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="MJx_ibcTs9r$EEX37+`]"><field name="VAR">msg</field></block></value></block></value></block></statement></block></statement></block><block type="procedures_defnoreturn" id="_!aLgm+5znsg?$Gfxq^:" x="-1603" y="11"><mutation><arg name="tim" varid="R{(lk.WZeA[iX]:cfS8b"></arg></mutation><field name="NAME">tim_callback</field><statement name="STACK"><block type="IOT_MIXIO_PUBLISH" id="k|F|5KUv4BNqJdHx@}P`"><value name="TOPIC"><shadow type="text" id="K}0N+Bd*o6[-K1Be$UV,"><field name="TEXT">光照信息</field></shadow><block type="text_join" id="34YF@{zf@$VHce8D_N1("><value name="A"><shadow type="text" id="rWd?vx*7[_iqDKxN=fE#"><field name="TEXT">Hello</field></shadow><block type="variables_get" id="4yaYD^YoN]oMV;q?wFE!"><field name="VAR">路灯编号</field></block></value><value name="B"><shadow type="text" id="IMGyT~o-=EWggEvz-KSn"><field name="TEXT">光照信息</field></shadow></value></block></value><value name="MSG"><shadow type="text" id="jsg;0Mzhqie/-MEqOf)Z"><field name="TEXT">msg</field></shadow><block type="variables_get" id="_pu5/szH;=)e{9?_Cz.h"><field name="VAR">光照值</field></block></value></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQpmcm9tIG1peGdvX21pbmkgaW1wb3J0IG9uYm9hcmRfYWxzCmZyb20gbWl4Z29fbWluaSBpbXBvcnQgb25ib2FyZF9tYXRyaXgKZnJvbSBtaXhnb19taW5pIGltcG9ydCBvbmJvYXJkX2xlZAoKCmRlZiBtZXRob2QoY2xpZW50LCB0b3BpYywgbXNnKToKICAgIGlmIHRvcGljID09ICflvIDlhbPnga8nOgogICAgICAgIGlmIG1zZyA9PSAnb24nOgogICAgICAgICAgICBvbmJvYXJkX2xlZC5zZXRvbm9mZigxLDEpCiAgICAgICAgICAgIG9uYm9hcmRfbGVkLnNldG9ub2ZmKDIsMSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBvbmJvYXJkX2xlZC5zZXRvbm9mZigxLDApCiAgICAgICAgICAgIG9uYm9hcmRfbGVkLnNldG9ub2ZmKDIsMCkKICAgIGVsaWYgdG9waWMgPT0gJ0Hmnb/lhYnnhafkv6Hmga8nOgogICAgICAgIHByaW50KCgnQeadv+WFieeFp+S/oeaBr++8micgKyBtc2cpKQogICAgZWxpZiB0b3BpYyA9PSAnQuadv+WFieeFp+S/oeaBryc6CiAgICAgICAgcHJpbnQoKCdC5p2/5YWJ54Wn5L+h5oGv77yaJyArIG1zZykpCgpkZWYgdGltX2NhbGxiYWNrKHRpbSk6CiAgICBtcXR0X2NsaWVudC5wdWJsaXNoKE1RVFRfVVNSX1BSSiArICjot6/nga/nvJblj7cgKyAn5YWJ54Wn5L+h5oGvJyksIOWFieeFp+WAvCkKCgoKbWl4aW90LndsYW5fY29ubmVjdCgnZnVodWEnLCcxMjM0NTY3OCcpCk1RVFRfVVNSX1BSSiA9ICdkZW1vQG1peGx5Lm9yZy9kZW1vLycKbXF0dF9jbGllbnQgPSBtaXhpb3QuaW5pdF9NUVRUX2NsaWVudCgnbWl4aW8ubWl4bHkuY24nLCAnZGVtb0BtaXhseS5vcmcnLCAnMDQ4ZTY2MTQ2YjQ5Mzc1NTczNjY0ODljYjEwZmUwNTUnLCBNUVRUX1VTUl9QUkopCui3r+eBr+e8luWPtyA9ICdC5p2/Jwp0aW0gPSBtYWNoaW5lLlRpbWVyKDApCnRpbS5pbml0KHBlcmlvZCA9IDUwMDAsIG1vZGUgPSBtYWNoaW5lLlRpbWVyLlBFUklPRElDLCBjYWxsYmFjayA9IHRpbV9jYWxsYmFjaykKbXF0dF9jbGllbnQuc2V0X2NhbGxiYWNrKCdB5p2/5YWJ54Wn5L+h5oGvJyxtZXRob2QsIE1RVFRfVVNSX1BSSikKbXF0dF9jbGllbnQuc3Vic2NyaWJlKE1RVFRfVVNSX1BSSiArICdB5p2/5YWJ54Wn5L+h5oGvJykKbXF0dF9jbGllbnQuc2V0X2NhbGxiYWNrKCdC5p2/5YWJ54Wn5L+h5oGvJyxtZXRob2QsIE1RVFRfVVNSX1BSSikKbXF0dF9jbGllbnQuc3Vic2NyaWJlKE1RVFRfVVNSX1BSSiArICdC5p2/5YWJ54Wn5L+h5oGvJykKbXF0dF9jbGllbnQuc2V0X2NhbGxiYWNrKCflvIDlhbPnga8nLG1ldGhvZCwgTVFUVF9VU1JfUFJKKQptcXR0X2NsaWVudC5zdWJzY3JpYmUoTVFUVF9VU1JfUFJKICsgJ+W8gOWFs+eBrycpCndoaWxlIFRydWU6CiAgICBtcXR0X2NsaWVudC5jaGVja19tc2coKQogICAg5YWJ54Wn5YC8ID0gaW50KG9uYm9hcmRfYWxzLmFsc192aXMoKSkKICAgIG9uYm9hcmRfbWF0cml4LnNob3dzKOWFieeFp+WAvCxzcGFjZSA9IDAsY2VudGVyID0gVHJ1ZSkK</code>