<xml version="Mixly 3.0 rc0" board="Python ESP32-S3@元控青春" shown="block"><variables><variable id="en:E4r?#*oubgS#GU[`y">tim</variable></variables><block type="iot_wifi_connect" id="jGqlBNf/Zsp3B_vQS^9Z" x="-2693" y="-767"><value name="WIFINAME"><shadow type="text" id="mtZOg7m^qchjc~i7cT+d"><field name="TEXT">mixly_z3</field></shadow></value><value name="PASSWORD"><shadow type="text" id="`v2D-I,h/?/uZz9Q*vh-"><field name="TEXT">1234567890</field></shadow></value><next><block type="iot_mixio_connect" id="2G|~L~g!wRzPz3K0*yv("><value name="SERVER"><shadow type="text" id="CUdziy=l2k34Qc|R0|;/"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id="7!CUI1M@23$Kq}Dd{]8S"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="Wy(0E4BY4?P*4.EY;aR!"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="T8HaqyG_Su7!/7io[N,4"><field name="TEXT">demo</field></shadow></value><next><block type="variables_set" id="|GB`Vt$Y*h|-?h6/^RL["><field name="VAR">水果计数</field><value name="VALUE"><block type="math_number" id="nNV/@03h6jlnpj,:Ba(7"><field name="NUM">0</field></block></value><next><block type="variables_set" id="1-.}2R[v?Rb.YxTa):fu"><field name="VAR">设备运行</field><value name="VALUE"><block type="logic_boolean" id="fF*F/aKx7V#Y0LwTmKiw"><field name="BOOL">FALSE</field></block></value><next><block type="system_timer_init" id=",}F!a/9m!|LmxKt3^#GV"><value name="SUB"><shadow type="variables_get" id="HH:0+m2|)]h4fW$Z^ojt"><field name="VAR">tim</field></shadow></value><next><block type="system_timer" id="Fp9$,7fo|g9y,qT.yyW2"><field name="mode">PERIODIC</field><value name="VAR"><shadow type="variables_get" id="[69am/0t2^MmiF~TYyA0"><field name="VAR">tim</field></shadow></value><value name="period"><shadow type="math_number" id=".1agn`VxC/c$8)T3;R-+"><field name="NUM">10000</field></shadow></value><value name="callback"><shadow type="factory_block_return" id="-Eg)go{un_A~]cJlR.H#"><field name="VALUE">tim_callback</field></shadow></value><next><block type="controls_whileUntil" id=".E52F`@1dPD}mc()IB3."><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="`TIV;[x@e]e#Wz[O~79|"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id="I;,gh;@(8y)Nmg*z(XAf"><value name="IF0"><block type="sensor_mixgo_button_was_pressed" id="Z5)p!1:i=Ag,8/~fk3,H"><value name="btn"><shadow type="pins_button" id="xysI{[X`az1e|p3RO2Uu"><field name="PIN">B1key</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="S2BHB2I)43QLsmyI6?12"><field name="VAR">设备运行</field><value name="VALUE"><block type="logic_boolean" id="k*,(cJHDaIUYkLCh|DD$"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="gO,JDUMjXbU1os-_rsKi"><field name="VAR">水果计数</field><value name="VALUE"><block type="math_number" id="*`m^QrkQWB^|IA8#iFlQ"><field name="NUM">0</field></block></value><next><block type="display_show_image_or_string_delay" id="G$g$[3#?A?,C(0WT=4QE"><field name="center">True</field><value name="data"><shadow type="text" id="QIDuvo`C)0ZsPYVB/*+#"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="PSu~b0wlmnLy+/MOPY3X"><field name="VAR">水果计数</field></block></value><value name="space"><shadow type="math_number" id="t11mW|-c@5A|A~#w]tP0"><field name="NUM">0</field></shadow></value></block></next></block></next></block></statement><next><block type="controls_if" id="@OP{3~lLIOT`+x$WsN$F"><value name="IF0"><block type="variables_get" id="*]mKjJX;E$(F[st+:^#q"><field name="VAR">设备运行</field></block></value><statement name="DO0"><block type="controls_if" id="C!sxLTG_dc*/3USi[]:)"><value name="IF0"><block type="logic_compare" id="+dq|1r,!qCdF5]ZJ]8;9"><field name="OP">GT</field><value name="A"><block type="sensor_mixgo_nova_pin_near" id="mFjE@H^@ID*wl/^a-,l:"><field name="direction">r</field></block></value><value name="B"><block type="math_number" id="1=tbyx?0bX];fkq_VVi0"><field name="NUM">500</field></block></value></block></value><statement name="DO0"><block type="do_while" id="DT:ev]W1^LM~u_A:.{d,"><field name="type">true</field><value name="select_data"><block type="logic_compare" id="a3m|;i7S+AE`IsHzSdMP"><field name="OP">LT</field><value name="A"><block type="sensor_mixgo_nova_pin_near" id="sAqCVV61$vjd{Pq=6U#N"><field name="direction">r</field></block></value><value name="B"><block type="math_number" id=")`ptF{yK(W?Y3wvqlKfw"><field name="NUM">100</field></block></value></block></value><next><block type="math_selfcalcu" id="zzCEc47;yK#VuupYBYH6"><field name="OP">ADD</field><value name="A"><shadow type="variables_get" id="E}9QI+L93)tUYJBdPoNn"><field name="VAR">水果计数</field></shadow></value><value name="B"><shadow type="math_number" id="z7#t`KYDf:3Mi=!dEC_:"><field name="NUM">1</field></shadow></value><next><block type="IOT_MIXIO_PUBLISH" id="(F]QQtI]XK8CxGNrTfim"><value name="TOPIC"><shadow type="text" id="SUB(mKXn_;+ca+]iAkSj"><field name="TEXT">水果计数</field></shadow></value><value name="MSG"><shadow type="text" id="m_u_9O8wBDDvNI@$6z@M"><field name="TEXT">有人入侵</field></shadow><block type="variables_get" id="6RC^M1ucPx;@sUZFay82"><field name="VAR">水果计数</field></block></value><next><block type="display_show_image_or_string_delay" id=")EJ97n)f~oKMAY?Jpa(2"><field name="center">True</field><value name="data"><shadow type="text" id="dE4mE~q__?ktdT8pF?#r"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="Yo(m;1xb*o16zT5pWJRo"><field name="VAR">水果计数</field></block></value><value name="space"><shadow type="math_number" id="/Sws6=l{k1?U/YOK;4ws"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></statement></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id=")!uoz.L)d$cN@A$16|s$" x="-2024" y="-589"><mutation><arg name="tim" varid="en:E4r?#*oubgS#GU[`y"></arg></mutation><field name="NAME">tim_callback</field><statement name="STACK"><block type="variables_set" id="[Mp*yr[-sy2D_Kj~rSQY"><field name="VAR">s</field><value name="VALUE"><block type="IOT_EMQX_PING" id="UemYZx:|W4e[1cGi=^n1"></block></value><next><block type="controls_if" id=":_H*U]qF~$LxI]H(2YN1"><value name="IF0"><block type="logic_negate" id="H0EylOKpveF]!nUaQ7}2"><value name="BOOL"><block type="variables_get" id="R}KgkU:]b-en]H_|(TD|"><field name="VAR">s</field></block></value></block></value><statement name="DO0"><block type="system_print" id="h(XuPuIhN#87BJeGF6GK"><value name="VAR"><shadow type="text" id="7r48T1ecJV|5@Z)MhSlr"><field name="TEXT">离线</field></shadow></value></block></statement></block></next></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQppbXBvcnQgbWl4Z29fbm92YQpmcm9tIG1peGdvX25vdmEgaW1wb3J0IG9uYm9hcmRfdGZ0CmZyb20gbWl4Z29fbm92YSBpbXBvcnQgb25ib2FyZF9hbHNfcgoKCmRlZiB0aW1fY2FsbGJhY2sodGltKToKICAgIHMgPSBtcXR0X2NsaWVudC5waW5nU3luYygpCiAgICBpZiBub3QgczoKICAgICAgICBwcmludCgn56a757q/JykKCgoKbWl4aW90LndsYW5fY29ubmVjdCgnbWl4bHlfejMnLCAnMTIzNDU2Nzg5MCcpCk1RVFRfVVNSX1BSSiA9ICdkZW1vQG1peGx5Lm9yZy9kZW1vLycKbXF0dF9jbGllbnQgPSBtaXhpb3QuaW5pdF9NUVRUX2NsaWVudCgnbWl4aW8ubWl4bHkuY24nLCAnZGVtb0BtaXhseS5vcmcnLCAnMDQ4ZTY2MTQ2YjQ5Mzc1NTczNjY0ODljYjEwZmUwNTUnLCBNUVRUX1VTUl9QUkopCuawtOaenOiuoeaVsCA9IDAK6K6+5aSH6L+Q6KGMID0gRmFsc2UKdGltID0gbWFjaGluZS5UaW1lcigwKQp0aW0uaW5pdChwZXJpb2QgPSAxMDAwMCwgbW9kZT1tYWNoaW5lLlRpbWVyLlBFUklPRElDLCBjYWxsYmFjaz10aW1fY2FsbGJhY2spCndoaWxlIFRydWU6CiAgICBpZiBtaXhnb19ub3ZhLkIxa2V5Lndhc19wcmVzc2VkKCk6CiAgICAgICAg6K6+5aSH6L+Q6KGMID0gVHJ1ZQogICAgICAgIOawtOaenOiuoeaVsCA9IDAKICAgICAgICBvbmJvYXJkX3RmdC5zaG93cyjmsLTmnpzorqHmlbAsIHNwYWNlPTAsIGNlbnRlcj1UcnVlKQogICAgaWYg6K6+5aSH6L+Q6KGMOgogICAgICAgIGlmIG9uYm9hcmRfYWxzX3IucHNfbmwoKSA+IDUwMDoKICAgICAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgICAgIGlmIChvbmJvYXJkX2Fsc19yLnBzX25sKCkgPCAxMDApOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIOawtOaenOiuoeaVsCArPSAxCiAgICAgICAgICAgIG1xdHRfY2xpZW50LnB1Ymxpc2goTVFUVF9VU1JfUFJKICsgJ+awtOaenOiuoeaVsCcsIOawtOaenOiuoeaVsCkKICAgICAgICAgICAgb25ib2FyZF90ZnQuc2hvd3Mo5rC05p6c6K6h5pWwLCBzcGFjZT0wLCBjZW50ZXI9VHJ1ZSkK</code>