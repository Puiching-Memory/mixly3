<xml version="Mixly 3.0 rc0" board="Python ESP32-S3@元控青春" shown="block"><variables><variable id="/nqjffo=YqoE6x~)[8Sz">client</variable><variable id="R;gG4/:/sdw{PJB|*J#X">topic</variable><variable id="#6g*:h{J9}W8r,;0@oSu">msg</variable></variables><block type="variables_set" id="wkyCz0yz0HZ@EmjlV?Do" x="-853" y="-517"><field name="VAR">light_min</field><value name="VALUE"><block type="math_number" id="{,hw;x?kNapNB*6[Z:R9"><field name="NUM">100</field></block></value><next><block type="variables_set" id="56[`!ZN`d#@jaS;e2^ph"><field name="VAR">light_max</field><value name="VALUE"><block type="math_number" id="#TUuErK7G7d*dI!UY$CF"><field name="NUM">250</field></block></value><next><block type="variables_set" id="E3rBV`:d4I~]6P]F`8Il"><field name="VAR">light_now</field><value name="VALUE"><block type="math_number" id="_c6=*L)]JAJ|W{Qx2=!@"><field name="NUM">0</field></block></value><next><block type="variables_set" id="#Qko}6dK_NL|I(!XqU5S"><field name="VAR">lightset</field><value name="VALUE"><block type="math_number" id="XJI6}+W!=+OfCUK(1g$3"><field name="NUM">0</field></block></value><next><block type="iot_wifi_connect" id="Rw-sif,3GF.6s[yxK)I7"><value name="WIFINAME"><shadow type="text" id="@[la+t[(C5G;G/Wxbw$k"><field name="TEXT">fuhua3</field></shadow></value><value name="PASSWORD"><shadow type="text" id="Y17K!ZZ49DC!/e9mQyo6"><field name="TEXT">12345678</field></shadow></value><next><block type="iot_mixio_connect" id="O-nQwCX;++i)60F_xbvc"><value name="SERVER"><shadow type="text" id="~-NdLe6dVOq|N-4LzXV9"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id="XjS4l42Xuj6KeAE2mPsW"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="{$NsV~O5iIoMID[IcAJY"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="@1r47!/3QA.CHKhXG[pW"><field name="TEXT">demo</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="?:3veGC|3^SMv,qX9DDJ"><value name="TOPIC"><shadow type="text" id="FXhbf|uuRoN.}})Gsi`u"><field name="TEXT">light_min</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="R(ErodV;:MLoB/R81|Ns"><field name="VALUE">light_minmethod</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="Z4!kWJIk1r=K!(ZxI.QW"><value name="TOPIC"><shadow type="text" id="rtmg{UOkl/gHI0nZG{#L"><field name="TEXT">light_max</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="ah+`,,d6sL,Z.NLyp``u"><field name="VALUE">light_maxmethod</field></shadow></value><next><block type="controls_whileUntil" id="lj?=wl.!/4WHoN=a@0/L"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="ZlwuHEw_6aPx+!/~g4~W"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="iot_mixio_check" id="=IqCnFDm4?G3wYN5e|F7"><next><block type="variables_set" id="zWK3;)|Ys`*0{Srj!W7d"><field name="VAR">light_now</field><value name="VALUE"><block type="sensor_mixgo_nova_LTR308" id="XB5t2-GC0?Oa;/pNOX8Q"><field name="direction">l</field></block></value><next><block type="system_print" id="pcXq0SohW,Wk49=EK7gb"><value name="VAR"><shadow type="text" id="8:p_?uHzS9*}snKCyy9F"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="03K)_yg/Rd[Q4qjpeNW_"><field name="VAR">light_now</field></block></value><next><block type="controls_if" id="=L.o4c6CZ8V)hfSxIBZr"><mutation elseif="1"></mutation><value name="IF0"><block type="logic_compare" id="pCMWV(V6q2}QA6iZVcQK"><field name="OP">GT</field><value name="A"><block type="variables_get" id=",Zl^[{6Nmf+E,O00)q+v"><field name="VAR">light_now</field></block></value><value name="B"><block type="variables_get" id="x/xSyx_]?aY|^0f`xBqW"><field name="VAR">light_max</field></block></value></block></value><statement name="DO0"><block type="math_selfcalcu" id="Kr)ObOn=pfub3OZgg5Kq"><field name="OP">MINUS</field><value name="A"><shadow type="variables_get" id="v1J7C3.)wUq^oG!uv{e)"><field name="VAR">lightset</field></shadow></value><value name="B"><shadow type="math_number" id="?33PxJj5//57JhX-i,Fi"><field name="NUM">1</field></shadow></value></block></statement><value name="IF1"><block type="logic_compare" id="1,-.r7EX60q9$/0wMS+V"><field name="OP">LT</field><value name="A"><block type="variables_get" id="XHU99^qGcN[~^E_9WwvN"><field name="VAR">light_now</field></block></value><value name="B"><block type="variables_get" id="~C(uL??yZ_6w8xZdpp+N"><field name="VAR">light_min</field></block></value></block></value><statement name="DO1"><block type="math_selfcalcu" id="g07)E`9S*E0/tc|Oi850"><field name="OP">ADD</field><value name="A"><shadow type="variables_get" id="jqNTr{6@l/q]l/:1]+$l"><field name="VAR">lightset</field></shadow></value><value name="B"><shadow type="math_number" id="O-prFu/Hb[@BL0SEYp?G"><field name="NUM">1</field></shadow></value></block></statement><next><block type="actuator_onboard_neopixel_rgb_all" id=":Q,WrE4)7ELy#CjM_7/P"><value name="RVALUE"><shadow type="math_number" id="8p`|p*[9K8:-[Tw23{E+"><field name="NUM">0</field></shadow><block type="variables_get" id="+}{=s/?G$I#`V@5taG-?"><field name="VAR">lightset</field></block></value><value name="GVALUE"><shadow type="math_number" id="m1jVWc=igN6=-eAa.~E|"><field name="NUM">0</field></shadow><block type="variables_get" id=";*A=9.]{Jqj=I/Lh6v#Y"><field name="VAR">lightset</field></block></value><value name="BVALUE"><shadow type="math_number" id="y~MF3}JawkPQr?YU68A{"><field name="NUM">0</field></shadow><block type="variables_get" id="C2zF^3X[cx8=:P8]+z*,"><field name="VAR">lightset</field></block></value><next><block type="actuator_onboard_neopixel_write" id="!N~;!9voiN.kyF}XSrM0"></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="#QI00CrF~ivI7X3JlNTE" x="-223" y="-363"><mutation><arg name="client" varid="/nqjffo=YqoE6x~)[8Sz"></arg><arg name="topic" varid="R;gG4/:/sdw{PJB|*J#X"></arg><arg name="msg" varid="#6g*:h{J9}W8r,;0@oSu"></arg></mutation><field name="NAME">light_minmethod</field><statement name="STACK"><block type="variables_global" id="d^27RY7)nK-~kuo7$QL#"><value name="VAR"><block type="variables_get" id="CK_IY2m(@AI]b1^Qqdf;"><field name="VAR">light_min</field></block></value><next><block type="variables_set" id="zd|!onfs.`|6]1FNQLVB"><field name="VAR">light_min</field><value name="VALUE"><block type="variables_change" id="Pi!iH5y7!Duye@MeR!1+"><field name="OP">int</field><value name="MYVALUE"><block type="variables_get" id="1eA5Rzs-w=12?sY;oRZ/"><field name="VAR">msg</field></block></value></block></value><next><block type="system_print" id="L]gC.(4mVA=b(V5AK~}f"><value name="VAR"><shadow type="text" id="dy9j8@a`I${Je/KakJL4"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="#o[[E)V!,sHTZRKYS!ac"><field name="VAR">light_min</field></block></value></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="PnN5)h2;,Z|ms,jzxG`T" x="-215" y="-225"><mutation><arg name="client" varid="/nqjffo=YqoE6x~)[8Sz"></arg><arg name="topic" varid="R;gG4/:/sdw{PJB|*J#X"></arg><arg name="msg" varid="#6g*:h{J9}W8r,;0@oSu"></arg></mutation><field name="NAME">light_maxmethod</field><statement name="STACK"><block type="variables_global" id="|WgUO0=sZcTiZ7D@_yl2"><value name="VAR"><block type="variables_get" id="-Fl?GVyCt:Nc*A2:ja?U"><field name="VAR">light_max</field></block></value><next><block type="variables_set" id="Mys}]xl(m*WRx:Z(n9a`"><field name="VAR">light_max</field><value name="VALUE"><block type="variables_change" id="vZ=9/C!Gf-n@X83`P(/Z"><field name="OP">int</field><value name="MYVALUE"><block type="variables_get" id="8/:^}fg@x}`6AhlgztGA"><field name="VAR">msg</field></block></value></block></value><next><block type="system_print" id="pxV+!@dk-`;GhY=@PNfx"><value name="VAR"><shadow type="text" id="tC}B:9@^},G:iaz}4a[w"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="/m}TpSzbJLVkquSnST5J"><field name="VAR">light_max</field></block></value></block></next></block></next></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQpmcm9tIG1peGdvX25vdmEgaW1wb3J0IG9uYm9hcmRfYWxzX2wKZnJvbSBtaXhnb19ub3ZhIGltcG9ydCBvbmJvYXJkX3JnYgoKCmRlZiBsaWdodF9taW5tZXRob2QoY2xpZW50LCB0b3BpYywgbXNnKToKICAgIGdsb2JhbCBsaWdodF9taW4KICAgIGxpZ2h0X21pbiA9IGludChtc2cpCiAgICBwcmludChsaWdodF9taW4pCgpkZWYgbGlnaHRfbWF4bWV0aG9kKGNsaWVudCwgdG9waWMsIG1zZyk6CiAgICBnbG9iYWwgbGlnaHRfbWF4CiAgICBsaWdodF9tYXggPSBpbnQobXNnKQogICAgcHJpbnQobGlnaHRfbWF4KQoKCgpsaWdodF9taW4gPSAxMDAKbGlnaHRfbWF4ID0gMjUwCmxpZ2h0X25vdyA9IDAKbGlnaHRzZXQgPSAwCm1peGlvdC53bGFuX2Nvbm5lY3QoJ2Z1aHVhMycsICcxMjM0NTY3OCcpCk1RVFRfVVNSX1BSSiA9ICdkZW1vQG1peGx5Lm9yZy9kZW1vLycKbXF0dF9jbGllbnQgPSBtaXhpb3QuaW5pdF9NUVRUX2NsaWVudCgnbWl4aW8ubWl4bHkuY24nLCAnZGVtb0BtaXhseS5vcmcnLCAnMDQ4ZTY2MTQ2YjQ5Mzc1NTczNjY0ODljYjEwZmUwNTUnLCBNUVRUX1VTUl9QUkopCm1xdHRfY2xpZW50LnNldF9jYWxsYmFjaygnbGlnaHRfbWluJyxsaWdodF9taW5tZXRob2QsIE1RVFRfVVNSX1BSSikKbXF0dF9jbGllbnQuc3Vic2NyaWJlKE1RVFRfVVNSX1BSSiArICdsaWdodF9taW4nKQptcXR0X2NsaWVudC5zZXRfY2FsbGJhY2soJ2xpZ2h0X21heCcsbGlnaHRfbWF4bWV0aG9kLCBNUVRUX1VTUl9QUkopCm1xdHRfY2xpZW50LnN1YnNjcmliZShNUVRUX1VTUl9QUkogKyAnbGlnaHRfbWF4JykKd2hpbGUgVHJ1ZToKICAgIG1xdHRfY2xpZW50LmNoZWNrX21zZygpCiAgICBsaWdodF9ub3cgPSBvbmJvYXJkX2Fsc19sLmFsc192aXMoKQogICAgcHJpbnQobGlnaHRfbm93KQogICAgaWYgbGlnaHRfbm93ID4gbGlnaHRfbWF4OgogICAgICAgIGxpZ2h0c2V0IC09IDEKICAgIGVsaWYgbGlnaHRfbm93IDwgbGlnaHRfbWluOgogICAgICAgIGxpZ2h0c2V0ICs9IDEKICAgIG9uYm9hcmRfcmdiLmZpbGwoKGxpZ2h0c2V0LCBsaWdodHNldCwgbGlnaHRzZXQpKQogICAgb25ib2FyZF9yZ2Iud3JpdGUoKQo=</code>