<xml version="Mixly 3.0 rc0" board="Python ESP32-S3@元控青春" shown="block"><variables><variable id="en:E4r?#*oubgS#GU[`y">tim</variable></variables><block type="iot_wifi_connect" id="A*)ezt-Ne=V`CM$2j09z" x="-2693" y="-767"><value name="WIFINAME"><shadow type="text" id="2d9nS4KXAUKhJV,?Lci/"><field name="TEXT">mixly_z3</field></shadow></value><value name="PASSWORD"><shadow type="text" id="rv45hi2K:i#GJWd*4XRq"><field name="TEXT">1234567890</field></shadow></value><next><block type="iot_mixio_connect" id="t_VK#XWQaK#[`OrlO;|b"><value name="SERVER"><shadow type="text" id="GM@zo=y:y1*D9M6uvWk8"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id=",~j;]:$+LK5O#,A-XzgO"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="]mw;LkyEK/WUsp)F6t4I"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="=~Mk$lED3u}@?8!WN`LC"><field name="TEXT">demo</field></shadow></value><next><block type="variables_set" id="M|]:x?!$}:O$MCK.#gZb"><field name="VAR">水果计数</field><value name="VALUE"><block type="math_number" id="KBsa|r.T~t4mbfim}RkG"><field name="NUM">0</field></block></value><next><block type="variables_set" id="S!]}]~ck^Y*QYOPOI`5c"><field name="VAR">设备运行</field><value name="VALUE"><block type="logic_boolean" id=")Y@I`Y-YWT*5DUyYAeLt"><field name="BOOL">FALSE</field></block></value><next><block type="system_timer_init" id="Y7?_xR`54uf7^#q]N19G"><value name="SUB"><shadow type="variables_get" id="`i8r.G=!fx~_IW()*v!Z"><field name="VAR">tim</field></shadow></value><next><block type="system_timer" id="nyhB~;ove{t(ujz/Xk1a"><field name="mode">PERIODIC</field><value name="VAR"><shadow type="variables_get" id="Plkd1L,b/VGMu8:QAHtR"><field name="VAR">tim</field></shadow></value><value name="period"><shadow type="math_number" id="JN|CuWDu72NlfAzZn=?W"><field name="NUM">10000</field></shadow></value><value name="callback"><shadow type="factory_block_return" id="zkIM,P~UzD2}!:DmdBDW"><field name="VALUE">tim_callback</field></shadow></value><next><block type="controls_whileUntil" id="U?r,kori[wSMc+mFz{qV"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="/C]n!^20P/Uim@Kf_@3r"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id="g$Zxs7a|.mr9]]70Y#Cg"><value name="IF0"><block type="sensor_mixgo_button_was_pressed" id="xXA|yA!?.U@_bpg0Z+ER"><value name="btn"><shadow type="pins_button" id="5CR:8:6_T0Y8gkGaN@mF"><field name="PIN">B1key</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="*q~L#zrfYFga.`xOa:C:"><field name="VAR">设备运行</field><value name="VALUE"><block type="logic_boolean" id="1pzTg1LNDyGu}.`Xu|;6"><field name="BOOL">TRUE</field></shadow></value><next><block type="variables_set" id="^ga`Yjg@8Xu1+1X+U!xD"><field name="VAR">水果计数</field><value name="VALUE"><block type="math_number" id="13|bh?-;?v-`_XqNv51L"><field name="NUM">0</field></block></value><next><block type="display_show_image_or_string_delay" id="[^hmjXQ@8,XkHTD,sI7T"><field name="center">True</field><value name="data"><shadow type="text" id="UTV:gBvFo$?ogWu.1v)v"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="N?QyfFi!,a2GmzBOcWpT"><field name="VAR">水果计数</field></block></value><value name="space"><shadow type="math_number" id="txA1Q}CASa_$*u(mHD8("><field name="NUM">0</field></shadow></value><value name="boolean"><shadow type="logic_boolean" id="#ighLWqI~Xw^|(MZzY`K"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement><next><block type="controls_if" id="l-yI6C/E8nw*#`K#T$(;"><value name="IF0"><block type="variables_get" id="Q$_4Ip[$0oDoN8hnJXh8"><field name="VAR">设备运行</field></block></value><statement name="DO0"><block type="controls_if" id="DZ]Mc.iy+(MyTvIfa6pI"><value name="IF0"><block type="logic_compare" id="8Pfpv!Wpb[9ZKjLb4H?["><field name="OP">GT</field><value name="A"><block type="sensor_mixgo_nova_pin_near" id=";TPW!Z|p:cW91taQ4zlR"><field name="direction">r</field></block></value><value name="B"><block type="math_number" id="`z0Q0{@gT5-]?t,Tm1#r"><field name="NUM">500</field></block></value></block></value><statement name="DO0"><block type="do_while" id="/|wU=O_i:DoKr^D](o){"><field name="type">true</field><value name="select_data"><block type="logic_compare" id="~B3i_t5TRIe]zr6BV`^v"><field name="OP">LT</field><value name="A"><block type="sensor_mixgo_nova_pin_near" id="/72qq|P769_-*8v4.N@G"><field name="direction">r</field></block></value><value name="B"><block type="math_number" id="8y}`Umtx+,hnldV.5o,-"><field name="NUM">100</field></block></value></block></value><next><block type="math_selfcalcu" id="z22Q7@(L;^i-002yQdGM"><field name="OP">ADD</field><value name="A"><shadow type="variables_get" id="XNGyuw6LfH/Qd6W?mvxB"><field name="VAR">水果计数</field></shadow></value><value name="B"><shadow type="math_number" id="^|3DLbyC9btECKk8m_Lh"><field name="NUM">1</field></shadow></value><next><block type="IOT_MIXIO_PUBLISH" id="huccu}eZHd;K+smq[pD{"><value name="TOPIC"><shadow type="text" id="5=^4Wn)r-h^3!kMhrH._"><field name="TEXT">水果计数</field></shadow></value><value name="MSG"><shadow type="text" id=")R,I3.lPs2UMI)9XF/xP"><field name="TEXT">有人入侵</field></shadow><block type="variables_get" id=":9Bf6we#fEF!|G3wMah^"><field name="VAR">水果计数</field></block></value><next><block type="display_show_image_or_string_delay" id="o9]mGibjc-~*)XBH@o~G"><field name="center">True</field><value name="data"><shadow type="text" id="Grc](]V4(Ng`nIE5K-[n"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="D`@#ZDMt`nn}O^08pppb"><field name="VAR">水果计数</field></block></value><value name="space"><shadow type="math_number" id="]I1?RS.Va8S2B8yQQ9Z_"><field name="NUM">0</field></shadow></value><value name="boolean"><shadow type="logic_boolean" id="b=Nk~co;jN0TAG2|91Dh"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></next></block></statement></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="#hB;^~txUr:wjY,1T@7K" x="-2024" y="-589"><mutation><arg name="tim" varid="en:E4r?#*oubgS#GU[`y"></arg></mutation><field name="NAME">tim_callback</field><statement name="STACK"><block type="variables_set" id="rT2~z/#zS@LYMFjy_,Zm"><field name="VAR">s</field><value name="VALUE"><block type="IOT_EMQX_PING" id="!{7?+b;eEwE}et{zzU,!"></block></value><next><block type="controls_if" id="Z@~0v9/6jVdm$?Ll]Vq."><value name="IF0"><block type="logic_negate" id="wX!hh9ecHvW,pj4.TsYk"><value name="BOOL"><block type="variables_get" id="I.#/6;8PyAN*PlVLa5mR"><field name="VAR">s</field></block></value></block></value><statement name="DO0"><block type="system_print" id="QHJpd.ngu?V}D!2*hDt1"><value name="VAR"><shadow type="text" id="k./bUiizK/Su`@-{^n~4"><field name="TEXT">离线</field></shadow></value></block></statement></block></next></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQppbXBvcnQgbWl4Z29fbm92YQpmcm9tIG1peGdvX25vdmEgaW1wb3J0IG9uYm9hcmRfdGZ0CmZyb20gbWl4Z29fbm92YSBpbXBvcnQgb25ib2FyZF9hbHNfcgoKZGVmIHRpbV9jYWxsYmFjayh0aW0pOgogICAgcyA9IG1xdHRfY2xpZW50LnBpbmdTeW5jKCkKICAgIGlmIG5vdCBzOgogICAgICAgIHByaW50KCfnprvnur8nKQoKCm1peGlvdC53bGFuX2Nvbm5lY3QoJ21peGx5X3ozJywgJzEyMzQ1Njc4OTAnKQpNUVRUX1VTUl9QUkogPSAnZGVtb0BtaXhseS5vcmcvZGVtby8nCm1xdHRfY2xpZW50ID0gbWl4aW90LmluaXRfTVFUVF9jbGllbnQoJ21peGlvLm1peGx5LmNuJywgJ2RlbW9AbWl4bHkub3JnJywgJzA0OGU2NjE0NmI0OTM3NTU3MzY2NDg5Y2IxMGZlMDU1JywgTVFUVF9VU1JfUFJKKQrmsLTmnpzorqHmlbAgPSAwCuiuvuWkh+i/kOihjCA9IEZhbHNlCnRpbSA9IG1hY2hpbmUuVGltZXIoMCkKdGltLmluaXQocGVyaW9kID0gMTAwMDAsIG1vZGU9bWFjaGluZS5UaW1lci5QRVJJT0RJQywgY2FsbGJhY2s9dGltX2NhbGxiYWNrKQp3aGlsZSBUcnVlOgogICAgaWYgbWl4Z29fbm92YS5CMWtleS53YXNfcHJlc3NlZCgpOgogICAgICAgIOiuvuWkh+i/kOihjCA9IFRydWUKICAgICAgICDmsLTmnpzorqHmlbAgPSAwCiAgICAgICAgb25ib2FyZF90ZnQuc2hvd3Mo5rC05p6c6K6h5pWwLCBzcGFjZT0wLCBjZW50ZXI9VHJ1ZSxzeW5jPVRydWUpCiAgICBpZiDorr7lpIfov5DooYw6CiAgICAgICAgaWYgb25ib2FyZF9hbHNfci5wc19ubCgpID4gNTAwOgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgaWYgKG9uYm9hcmRfYWxzX3IucHNfbmwoKSA8IDEwMCk6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAg5rC05p6c6K6h5pWwICs9IDEKICAgICAgICAgICAgbXF0dF9jbGllbnQucHVibGlzaChNUVRUX1VTUl9QUkogKyAn5rC05p6c6K6h5pWwJywg5rC05p6c6K6h5pWwKQogICAgICAgICAgICBvbmJvYXJkX3RmdC5zaG93cyjmsLTmnpzorqHmlbAsIHNwYWNlPTAsIGNlbnRlcj1UcnVlLHN5bmM9VHJ1ZSkK</code>