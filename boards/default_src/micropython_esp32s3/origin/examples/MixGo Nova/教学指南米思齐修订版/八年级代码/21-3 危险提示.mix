<xml version="Mixly 3.0 rc0" board="Python ESP32-S3@元控青春" shown="block"><variables><variable id="x@Yfw8DrgkM3CEl{odMY">client</variable><variable id="Q.[d]Bc~)FuhqVb/l{Uh">topic</variable><variable id="0.A^[Eto)4wE7Tef?SZQ">msg</variable><variable id="en:E4r?#*oubgS#GU[`y">tim</variable></variables><block type="iot_wifi_connect" id="^tv~muphSJ]D*Sa-w4o=" x="-2797" y="-803"><value name="WIFINAME"><shadow type="text" id=":tqV*.Pz}h`z7D;_/M^t"><field name="TEXT">fuhua3</field></shadow></value><value name="PASSWORD"><shadow type="text" id=")ppMhw#AmW!W.x-JRdJ-"><field name="TEXT">12345678</field></shadow></value><next><block type="iot_mixio_connect" id="0OB1}=:sdvEfn9_#?kSY"><value name="SERVER"><shadow type="text" id="r8-3qG#M4[$Cw}cFyVL/"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id="P!8u]Bp3V#~[DC8EJnY+"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="ex,|}n.T3GbIA_@g_FSY"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="-Km:H^uY*7C,qvRk5!gr"><field name="TEXT">demo</field></shadow></value><next><block type="system_timer_init" id="FMrOIN^H}JKF;HAfuEZw"><value name="SUB"><shadow type="variables_get" id="dq`nLkuH6^qX*cP,tR?G"><field name="VAR">tim</field></shadow></value><next><block type="system_timer" id="D/GTFQRxsEBAmODS^k]W"><field name="mode">PERIODIC</field><value name="VAR"><shadow type="variables_get" id="YW@{+/g0tEz.qO2i::O+"><field name="VAR">tim</field></shadow></value><value name="period"><shadow type="math_number" id="_{,(GG.av]12(*@(qMll"><field name="NUM">10000</field></shadow></value><value name="callback"><shadow type="factory_block_return" id="VOw3^D($O`~tK7`8F5`0"><field name="VALUE">tim_callback</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="a=:SU4EUY?77xT_*GVt3"><value name="TOPIC"><shadow type="text" id="J88zZ*pk$WH!s~#4_R=S"><field name="TEXT">呼叫</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="H:~95y*3UD|`Q95hJ.;v"><field name="VALUE">method</field></shadow></value><next><block type="controls_whileUntil" id="Mme[c})f_+sD*..;bs7G"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="N:!-$U-V$RuP*dmZ`fBF"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="iot_mixio_check" id="ghHzz4Jun^Bd]I9pA]S="><next><block type="controls_if" id="S7d9EP4DG4fkVw2^A53?"><value name="IF0"><block type="logic_compare" id="=mdt,B/7E0#k|;V$YH~}"><field name="OP">GT</field><value name="A"><block type="sensor_mixgo_nova_pin_near" id="5i$JG3]ki?L]aP:q~E.t"><field name="direction">l</field></block></value><value name="B"><block type="math_number" id="{.KKI]::iXj[0uj71`bd"><field name="NUM">100</field></block></value></block></value><statement name="DO0"><block type="IOT_MIXIO_PUBLISH" id="(F1?|e0,?fqs;{E-mp`("><value name="TOPIC"><shadow type="text" id="3n/FiexsYLHj|BpxIUPO"><field name="TEXT">危险</field></shadow></value><value name="MSG"><shadow type="text" id=";nxQ#A`rlZIr_NP0G]sx"><field name="TEXT">有人入侵</field></shadow></value><next><block type="controls_delay_new" id="O(z{JO8ZU6KWXX[9zvOK"><field name="Time">s</field><value name="DELAY_TIME"><shadow type="math_number" id=".umm_*TZ,{c[gB)5bAj}"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="h{{vK9@AMBK{aG=E[}c)" x="-2032" y="-733"><mutation><arg name="client" varid="x@Yfw8DrgkM3CEl{odMY"></arg><arg name="topic" varid="Q.[d]Bc~)FuhqVb/l{Uh"></arg><arg name="msg" varid="0.A^[Eto)4wE7Tef?SZQ"></arg></mutation><field name="NAME">method</field><statement name="STACK"><block type="controls_if" id="ds~Cnl235;G+3`rv7n_-"><value name="IF0"><block type="logic_compare" id="]G^)zCyOi,EtJ?r!]K$:"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="(-`R0[1D2OHOx)cM!Ddd"><field name="VAR">msg</field></block></value><value name="B"><block type="text" id="24`rMO|]HT0nY}:*B.cv"><field name="TEXT">1</field></block></value></block></value><statement name="DO0"><block type="esp32_onboard_music_play_list" id="GrlYEEWzY*+2hn_1=s/5"><value name="LIST"><shadow type="pins_playlist" id="x7ZD!,o0HVx8O1lZi7I$"><field name="PIN">spk_midi.DADADADUM</field></shadow></value></block></statement></block></statement></block><block type="procedures_defnoreturn" id="3u41?cu?h(#,]Vf7VxBE" x="-2138" y="-400"><mutation><arg name="tim" varid="en:E4r?#*oubgS#GU[`y"></arg></mutation><field name="NAME">tim_callback</field><statement name="STACK"><block type="IOT_MIXIO_PUBLISH" id="6V3+2WwVa!s86NOjRcmW"><value name="TOPIC"><shadow type="text" id="@Jwr+s1j[4Bd,l|52v5G"><field name="TEXT">文物环境</field></shadow></value><value name="MSG"><shadow type="text" id="T}XK1-75Wn$|,x+xaSSk"><field name="TEXT">msg</field></shadow><block type="IOT_FORMAT_STRING" id="y@num1:uwI(N,dSDIpCM"><value name="VAR"><block type="dicts_create_with_noreturn" id="W?#-(Txraxe(/{ayTr=." inline="false"><mutation items="3"></mutation><field name="KEY0">"温度"</field><field name="KEY1">"光照"</field><field name="KEY2">"湿度"</field><value name="ADD0"><block type="sensor_aht11" id="ZtSg-R^ZmNd;8zCSjzG?"><field name="key">temperature</field></block></value><value name="ADD1"><block type="sensor_mixgo_nova_LTR308" id="$DsFlN:kqeOi=H9pT(yw"><field name="direction">l</field></block></value><value name="ADD2"><block type="sensor_aht11" id="2}qudExO8|4XmqfAQ4/Z"><field name="key">humidity</field></block></value></block></value></block></value></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQpmcm9tIG1peGdvX25vdmEgaW1wb3J0IG9uYm9hcmRfYWxzX2wKaW1wb3J0IHRpbWUKZnJvbSBtaXhnb19ub3ZhX3ZvaWNlIGltcG9ydCBzcGtfbWlkaQppbXBvcnQgbWl4cHkKZnJvbSBtaXhnb19ub3ZhIGltcG9ydCBvbmJvYXJkX3RocwoKCmRlZiBtZXRob2QoY2xpZW50LCB0b3BpYywgbXNnKToKICAgIGlmIG1zZyA9PSAnMSc6CiAgICAgICAgc3BrX21pZGkucGxheShzcGtfbWlkaS5EQURBREFEVU0pCgpkZWYgdGltX2NhbGxiYWNrKHRpbSk6CiAgICBtcXR0X2NsaWVudC5wdWJsaXNoKE1RVFRfVVNSX1BSSiArICfmlofniannjq/looMnLCBtaXhweS5mb3JtYXRfc3RyKHsi5rip5bqmIjpvbmJvYXJkX3Rocy50ZW1wZXJhdHVyZSgpLCAi5YWJ54WnIjpvbmJvYXJkX2Fsc19sLmFsc192aXMoKSwgIua5v+W6piI6b25ib2FyZF90aHMuaHVtaWRpdHkoKX0pKQoKCgptaXhpb3Qud2xhbl9jb25uZWN0KCdmdWh1YTMnLCAnMTIzNDU2NzgnKQpNUVRUX1VTUl9QUkogPSAnZGVtb0BtaXhseS5vcmcvZGVtby8nCm1xdHRfY2xpZW50ID0gbWl4aW90LmluaXRfTVFUVF9jbGllbnQoJ21peGlvLm1peGx5LmNuJywgJ2RlbW9AbWl4bHkub3JnJywgJzA0OGU2NjE0NmI0OTM3NTU3MzY2NDg5Y2IxMGZlMDU1JywgTVFUVF9VU1JfUFJKKQp0aW0gPSBtYWNoaW5lLlRpbWVyKDApCnRpbS5pbml0KHBlcmlvZCA9IDEwMDAwLCBtb2RlPW1hY2hpbmUuVGltZXIuUEVSSU9ESUMsIGNhbGxiYWNrPXRpbV9jYWxsYmFjaykKbXF0dF9jbGllbnQuc2V0X2NhbGxiYWNrKCflkbzlj6snLG1ldGhvZCwgTVFUVF9VU1JfUFJKKQptcXR0X2NsaWVudC5zdWJzY3JpYmUoTVFUVF9VU1JfUFJKICsgJ+WRvOWPqycpCndoaWxlIFRydWU6CiAgICBtcXR0X2NsaWVudC5jaGVja19tc2coKQogICAgaWYgb25ib2FyZF9hbHNfbC5wc19ubCgpID4gMTAwOgogICAgICAgIG1xdHRfY2xpZW50LnB1Ymxpc2goTVFUVF9VU1JfUFJKICsgJ+WNsemZqScsICfmnInkurrlhaXkvrUnKQogICAgICAgIHRpbWUuc2xlZXAoMSkK</code>