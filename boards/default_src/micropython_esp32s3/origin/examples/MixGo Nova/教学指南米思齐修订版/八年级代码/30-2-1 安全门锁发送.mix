<xml version="Mixly 3.0 rc0" board="Python ESP32-S3@元控青春" shown="block"><variables><variable id="]e}N?M@[}.z50Knqu!r.">tim</variable></variables><block type="iot_wifi_connect" id="Eld-elOG*X1CTLZ|yTQR" x="-3435" y="-882"><value name="WIFINAME"><shadow type="text" id="qo6X/jk1Z#Oc^-!JO[sl"><field name="TEXT">fuhua3</field></shadow></value><value name="PASSWORD"><shadow type="text" id="k2.ax1~(,)f,=vxI^Be$"><field name="TEXT">12345678</field></shadow></value><next><block type="iot_mixio_connect" id="zuI#uVgo*,#=L`;D}JYP" inline="true"><value name="SERVER"><shadow type="text" id="{El`ljW2E{,Y9Cd*}8F7"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="USERNAME"><shadow type="text" id="K[^gO!j-ScW(LZSpB~dZ"><field name="TEXT">demo@mixly.org</field></shadow></value><value name="PASSWORD"><shadow type="text" id="~uPbqb@1ZzEv2BKZ}sN!"><field name="TEXT">048e66146b4937557366489cb10fe055</field></shadow></value><value name="PROJECT"><shadow type="text" id="}[h?/Q8bBuP|02m/E_Pf"><field name="TEXT">demo</field></shadow></value><next><block type="variables_set" id="u@VQDAs3-IU9Xc(B;!o@"><field name="VAR">user</field><value name="VALUE"><block type="text" id="o^X4#lQAtFj9XICa9)?B"><field name="TEXT">user1</field></block></value><next><block type="variables_set" id="]0KV/NVHoBuE)I8L?HCo"><field name="VAR">passwd</field><value name="VALUE"><block type="text" id="w^,Ea4GIcTp.G:(FXK)?"><field name="TEXT">psd123</field></block></value><next><block type="system_timer_init" id="K#;.c^*u)oT]q;1+R`tT"><value name="SUB"><shadow type="variables_get" id="pec$J)Q!0@yZYtbO,[?J"><field name="VAR">tim</field></shadow></value><next><block type="system_timer" id="9[oj0mmo`g4L6?K_rvL="><field name="mode">ONE_SHOT</field><value name="VAR"><shadow type="variables_get" id="r^X:-bZ|:oHGIJ*VRU4M"><field name="VAR">tim</field></shadow></value><value name="period"><shadow type="math_number" id="5]jt?uZ}]#Ol?^I+V,cd"><field name="NUM">60000</field></shadow></value><value name="callback"><shadow type="factory_block_return" id="c#CG$yWwB/g~R+Bs;a,P"><field name="VALUE">tim_callback</field></shadow></value><next><block type="controls_whileUntil" id="J~B*}qY6m6QQ-Yy[,#ne"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="-IlZ6+fTBX$j_T_0?3g8"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id=",|6OXnLyqsI_E~K?ELb{"><value name="IF0"><block type="sensor_mixgo_button_was_pressed" id="Zy+,xKA8EDGrW7#+l]r)"><value name="btn"><shadow type="pins_button" id="E)|(Vy.4`^${hvRzhRsW"><field name="PIN">B1key</field></shadow></value></block></value><statement name="DO0"><block type="IOT_MIXIO_PUBLISH" id="FCV4#rtc8LSR?hT^(@@b"><value name="TOPIC"><shadow type="text" id="+7j]37n37c)jtKQB[kQw"><field name="TEXT">Door</field></shadow></value><value name="MSG"><shadow type="text" id="_hp!}pTkEi@,=WOe}D6s"><field name="TEXT">msg</field></shadow><block type="IOT_FORMAT_STRING" id=".~56;CDbRkiJz*G[mft4"><value name="VAR"><block type="dicts_create_with_noreturn" id="6i3xPV7Iz^g!Q.oVYcrq" inline="false"><mutation items="3"></mutation><field name="KEY0">"lock"</field><field name="KEY1">"user"</field><field name="KEY2">"passwd"</field><value name="ADD0"><block type="text" id="/^z-CIlXn/,TrOl/I,(8"><field name="TEXT">open</field></block></value><value name="ADD1"><block type="text" id="0+Mb(z@-X/2ul7^0qUO6"><field name="TEXT">user1</field></block></value><value name="ADD2"><block type="text" id="`z|Y}Z8Y9SZitfG}w@@s"><field name="TEXT">psd123</field></block></value></block></value></block></value></block></statement><next><block type="controls_if" id="R$xWCb^vW4kBVF$8iAef"><value name="IF0"><block type="sensor_mixgo_button_was_pressed" id="[{4^q8+d93zWms1ADk.a"><value name="btn"><shadow type="pins_button" id="e3Q3vFcp756]n//)u84@"><field name="PIN">B2key</field></shadow></value></block></value><statement name="DO0"><block type="IOT_MIXIO_PUBLISH" id="e`KLw*wP|ae@cXbI2;@."><value name="TOPIC"><shadow type="text" id="nHf1g}#fHYG(Qd8AyC77"><field name="TEXT">Door</field></shadow></value><value name="MSG"><shadow type="text" id="3e4aBHjy3(RJM^B0hl2_"><field name="TEXT">msg</field></shadow><block type="IOT_FORMAT_STRING" id="GBtgOtC7YIfyMj2Wamth"><value name="VAR"><block type="dicts_create_with_noreturn" id="iP2LYtX.D#(YNg/:3X~w" inline="false"><mutation items="3"></mutation><field name="KEY0">"lock"</field><field name="KEY1">"user"</field><field name="KEY2">"passwd"</field><value name="ADD0"><block type="text" id="[{^!-;k2p:|~s:/8]ff/"><field name="TEXT">open</field></block></value><value name="ADD1"><block type="text" id="ytV900Gr+_`V;n?)k(Iv"><field name="TEXT">user12</field></block></value><value name="ADD2"><block type="text" id="T@t}kTTS/Hxv3Q~A;ICT"><field name="TEXT">psd123</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="00kn?@oU5jsU`7kl{x:W" x="-2470" y="-443"><mutation><arg name="tim" varid="]e}N?M@[}.z50Knqu!r."></arg></mutation><field name="NAME">tim_callback</field><statement name="STACK"><block type="controls_if" id="C9P/JqTKBz8LK;OH5X=x"><value name="IF0"><block type="logic_negate" id="SbV:(XfO-Q@@Lp.+iv)e"><value name="BOOL"><block type="IOT_EMQX_PING" id="}R^(p1fQ}])1t15H|STc"></block></value></block></value><statement name="DO0"><block type="system_print" id="VG(6wOSf5;.uhJRg+RAU"><value name="VAR"><shadow type="text" id="KBg}Kutl$}SRI`yI8wY)"><field name="TEXT">error</field></shadow></value></block></statement></block></statement></block></xml><config>{}</config><code>aW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQpmcm9tIHViaW5hc2NpaSBpbXBvcnQgaGV4bGlmeQppbXBvcnQgbWl4Z29fbm92YQppbXBvcnQgbWl4cHkKCgpkZWYgdGltX2NhbGxiYWNrKHRpbSk6CiAgICBpZiBub3QgbXF0dF9jbGllbnQucGluZ1N5bmMoKToKICAgICAgICBwcmludCgnZXJyb3InKQoKCgptaXhpb3Qud2xhbl9jb25uZWN0KCdmdWh1YTMnLCAnMTIzNDU2NzgnKQpNUVRUX1VTUl9QUkogPSAnZGVtb0BtaXhseS5vcmcvZGVtby8nCm1xdHRfY2xpZW50ID0gbWl4aW90LmluaXRfTVFUVF9jbGllbnQoJ21peGlvLm1peGx5LmNuJywgJ2RlbW9AbWl4bHkub3JnJywgJzA0OGU2NjE0NmI0OTM3NTU3MzY2NDg5Y2IxMGZlMDU1JywgTVFUVF9VU1JfUFJKKQp1c2VyID0gJ3VzZXIxJwpwYXNzd2QgPSAncHNkMTIzJwp0aW0gPSBtYWNoaW5lLlRpbWVyKDApCnRpbS5pbml0KHBlcmlvZCA9IDYwMDAwLCBtb2RlPW1hY2hpbmUuVGltZXIuT05FX1NIT1QsIGNhbGxiYWNrPXRpbV9jYWxsYmFjaykKd2hpbGUgVHJ1ZToKICAgIGlmIG1peGdvX25vdmEuQjFrZXkud2FzX3ByZXNzZWQoKToKICAgICAgICBtcXR0X2NsaWVudC5wdWJsaXNoKE1RVFRfVVNSX1BSSiArICdEb29yJywgbWl4cHkuZm9ybWF0X3N0cih7ImxvY2siOidvcGVuJywgInVzZXIiOid1c2VyMScsICJwYXNzd2QiOidwc2QxMjMnfSkpCiAgICBpZiBtaXhnb19ub3ZhLkIya2V5Lndhc19wcmVzc2VkKCk6CiAgICAgICAgbXF0dF9jbGllbnQucHVibGlzaChNUVRUX1VTUl9QUkogKyAnRG9vcicsIG1peHB5LmZvcm1hdF9zdHIoeyJsb2NrIjonb3BlbicsICJ1c2VyIjondXNlcjEyJywgInBhc3N3ZCI6J3BzZDEyMyd9KSkK</code>